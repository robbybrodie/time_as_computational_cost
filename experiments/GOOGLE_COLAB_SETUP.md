# Google Colab Setup Guide

This guide explains how to run the time-as-computational-cost experiments in Google Colab.

## Quick Start

1. **Upload Notebooks to Colab**
   - Go to [Google Colab](https://colab.research.google.com/)
   - Click "Upload" and select the `.ipynb` files from the `notebooks/` directory
   - Or use the "Open in Colab" badges at the top of each notebook

2. **Available Notebooks**
   - `dof_mechanisms_explorer.ipynb` - Interactive exploration of DoF mechanisms
   - `validation_against_gr.ipynb` - Validation against General Relativity

## MCP Server for Google Colab

✅ **Google Colab MCP Server is now installed and configured!**

The server provides the following capabilities:

### Available MCP Tools

The Google Colab MCP server provides these tools:

1. **`scan_notebooks`** - Scan directories for Jupyter notebooks
2. **`create_colab_link`** - Generate Google Colab links for notebooks
3. **`upload_to_drive`** - Upload notebooks directly to Google Drive
4. **`validate_notebook`** - Check notebook compatibility with Colab
5. **`add_colab_badge`** - Add "Open in Colab" badges to notebooks

### Quick Usage Examples

```python
# Scan for notebooks
use_mcp_tool("colab", "scan_notebooks", {
    "directory": "experiments/notebooks"
})

# Create Colab link
use_mcp_tool("colab", "create_colab_link", {
    "notebook_path": "experiments/notebooks/dof_mechanisms_explorer.ipynb",
    "github_repo": "https://github.com/robbybrodie/time_as_computational_cost"
})

# Upload to Google Drive
use_mcp_tool("colab", "upload_to_drive", {
    "notebook_path": "experiments/notebooks/dof_mechanisms_explorer.ipynb"
})
```

## Notebook Features

### Interactive Widgets
Both notebooks include interactive widgets that work in Colab:
- Parameter sliders for exploring mechanism behavior
- Real-time plotting of results
- Comparison between different DoF mechanisms

### Self-Contained Code
Each notebook includes all necessary code:
- Framework classes (SubstrateNetwork, DoFMechanism)
- Mechanism implementations (CausalDiamondThrottling, etc.)
- Validation functions
- Plotting utilities

### Dependencies
Notebooks automatically install required packages:
```python
if 'google.colab' in sys.modules:
    !pip install numpy matplotlib scipy
```

## Running the Experiments

### 1. DoF Mechanisms Explorer
- Interactive exploration of 8 different mechanisms
- Real-time parameter adjustment
- B(N) derivation attempts
- Thermodynamic analysis

### 2. Validation Against GR
- Weak field validation (SR and GR limits)
- Strong field validation (Schwarzschild metric)
- Novel predictions analysis
- Experimental test suggestions

## Data Export

To save results from Colab:
```python
# Save plots
plt.savefig('mechanism_comparison.png', dpi=300, bbox_inches='tight')

# Save data
import pandas as pd
df = pd.DataFrame(results)
df.to_csv('experiment_results.csv')

# Download files
from google.colab import files
files.download('mechanism_comparison.png')
files.download('experiment_results.csv')
```

## Future MCP Integration

A potential Google Colab MCP server could provide tools for:

### Tools
- `upload_notebook`: Upload local notebook to Colab
- `execute_notebook`: Run notebook remotely
- `download_results`: Get outputs and plots
- `manage_runtime`: Start/stop Colab runtimes
- `share_notebook`: Create shareable links

### Resources
- `colab://notebooks/`: Access to uploaded notebooks
- `colab://results/`: Access to execution results
- `colab://runtimes/`: Runtime status information

### Example Usage
```python
# Upload and run experiment
use_mcp_tool("colab", "upload_notebook", {
    "local_path": "experiments/notebooks/dof_mechanisms_explorer.ipynb",
    "colab_path": "time_as_computational_cost/dof_explorer.ipynb"
})

use_mcp_tool("colab", "execute_notebook", {
    "notebook_path": "time_as_computational_cost/dof_explorer.ipynb",
    "parameters": {"mechanism": "CausalDiamond", "s_hat": 0.5}
})

use_mcp_tool("colab", "download_results", {
    "notebook_path": "time_as_computational_cost/dof_explorer.ipynb",
    "output_dir": "experiments/results/"
})
```

## Current Workflow

With the Google Colab MCP server:

1. **Development**: Work locally with the framework and mechanisms
2. **Preparation**: Use MCP tools to add Colab badges and validate notebooks
3. **Upload**: Use `upload_to_drive` tool or GitHub integration for Colab access
4. **Testing**: Run notebooks interactively in Colab with full widget support
5. **Collaboration**: Share direct Colab links generated by the MCP server
6. **Results**: Download plots and data back to local machine
7. **Integration**: Incorporate findings back into the theoretical framework

### Colab Links for Current Notebooks

✅ Both notebooks now have "Open in Colab" badges and can be accessed at:
- [DoF Mechanisms Explorer](https://colab.research.google.com/github/robbybrodie/time_as_computational_cost/blob/main/dof_mechanisms_explorer.ipynb)
- [Validation Against GR](https://colab.research.google.com/github/robbybrodie/time_as_computational_cost/blob/main/validation_against_gr.ipynb)

## Links

- [Google Colab](https://colab.research.google.com/)
- [Colab GitHub Integration](https://colab.research.google.com/github/)
- [Colab Drive Integration](https://colab.research.google.com/notebooks/io.ipynb)
